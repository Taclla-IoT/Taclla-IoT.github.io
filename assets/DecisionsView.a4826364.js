import{A as p}from"./AlertMessage.b2905f29.js";import{B as f}from"./BackendConnection.7736926d.js";import{_ as m,g as y,r,o as i,c as n,e as t,t as o,a as c,F as d,f as w}from"./index.0616c16f.js";const b={props:["token","user","hasPermission","updateToken"],data(){return{moduleName:"maps",title:y.decisions.title,Model:class{constructor(e){this.datetime=new Date(e.data.start),this.location=e.data._Cu_l_es_su_ubicaci_da_de_tu_dispositivo,this.rain=["no","soft","soft2","strong","soStrong"].indexOf(e.data._Est_lloviendo),this.rays=e.data._Est_lloviendo=="s",this.wind=["no","soft","soft2","strong","soStrong"].indexOf(e.data._Hay_viento),this.energy=e.data._Hay_energ_a_el_ctrica=="yes",this.distance=300*parseFloat(e.data.Cuenta_cu_ntos_segun_el_sonido_del_trueno)}},models:[],original:[],auxiliar:[],views:[],place:""}},created(){this.token?this.user?this.hasPermission(this.moduleName,"access")||this.$router.push("/"):this.$router.push("/"):this.$router.push("/")},methods:{showMessage(s,e){this.$refs.AlertMessage.show(s,e)},async getData(){try{const s=await this.$refs.BackendConnection.getAll("/chec");this.original=s.data.map(e=>new this.Model(e)),this.models=[{energy:this.original.filter(e=>e.energy===!1).length,wind:this.original.filter(e=>e.wind===4).length,rain:this.original.filter(e=>e.rain===4).length,rays:this.original.filter(e=>e.rays===!0).length}]}catch(s){console.log(s),this.showMessage("No se pudo obtener los registros de la base de datos.","error")}}},components:{AlertMessage:p,BackendConnection:f},mounted(){this.hasPermission(this.moduleName,"access")?this.getData():this.$router.push("/")}},k={class:"row pt-3 w-100"},x={class:"col"},v={id:"moduleTitle"},M={class:"row mt-2 mw-100"},B={class:"table"},C=t("thead",{class:"thead-light"},[t("tr",{class:"text-center"},[t("th",{class:"text-light","data-toggle":"tooltip","data-placement":"top",title:"Fuente de datos",style:{"background-color":"rgb(35, 176, 144)"}},[t("h3",null,[t("i",{class:"fa-solid fa-house"})])]),t("th",{class:"text-light","data-toggle":"tooltip","data-placement":"top",title:"Sin energ\xEDa el\xE9ctrica",style:{"background-color":"rgb(35, 176, 144)"}},[t("h3",null,[t("i",{class:"fa-solid fa-plug-circle-xmark"})])]),t("th",{class:"text-light","data-toggle":"tooltip","data-placement":"top",title:"Vientos muy fuertes",style:{"background-color":"rgb(35, 176, 144)"}},[t("h3",null,[t("i",{class:"fa-solid fa-wind"})])]),t("th",{class:"text-light","data-toggle":"tooltip","data-placement":"top",title:"Lluvia muy fuerte",style:{"background-color":"rgb(35, 176, 144)"}},[t("h3",null,[t("i",{class:"fa-solid fa-cloud-showers-heavy"})])]),t("th",{class:"text-light","data-toggle":"tooltip","data-placement":"top",title:"Lluvia con rayos y truenos",style:{"background-color":"rgb(35, 176, 144)"}},[t("h3",null,[t("i",{class:"fa-solid fa-cloud-bolt"})])])])],-1),N=t("td",{class:"text-center py-3"},[t("h5",null,"Reportes de KoboCollect")],-1),A={class:"text-center py-3"},D={class:"red"},S={class:"text-center py-3"},F={class:"dblue"},V={class:"text-center py-3"},$={class:"dblue"},E={class:"text-center py-3"},L={class:"dblue"};function P(s,e,h,H,l,_){const u=r("AlertMessage"),g=r("BackendConnection");return i(),n(d,null,[t("div",k,[t("div",x,[t("h1",v,o(l.title),1)])]),c(u,{ref:"AlertMessage",class:"row pt-1"},null,512),t("div",M,[t("table",B,[C,t("tbody",null,[(i(!0),n(d,null,w(l.models,a=>(i(),n("tr",null,[N,t("td",A,[t("h5",D,o(a.energy),1)]),t("td",S,[t("h5",F,o(a.wind),1)]),t("td",V,[t("h5",$,o(a.rain),1)]),t("td",E,[t("h5",L,o(a.rays),1)])]))),256))])])]),c(g,{token:h.token,moduleName:l.moduleName,ref:"BackendConnection",onShowMessage:_.showMessage},null,8,["token","moduleName","onShowMessage"])],64)}const j=m(b,[["render",P]]);export{j as default};
